<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Java Basic (3)-IO | Lewis‘s HomePage</title><meta name="author" content="LewisZ11"><meta name="copyright" content="LewisZ11"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Clone Related QuestionsProtectedprotected means in same branch or in the same package for the parent class but if method is overrided in sub class, we can call it in the same package as sub class stat">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Basic (3)-IO">
<meta property="og:url" content="http://lewisz11.github.com/2023/03/22/Java-Basic-3-IO/index.html">
<meta property="og:site_name" content="Lewis‘s HomePage">
<meta property="og:description" content="Clone Related QuestionsProtectedprotected means in same branch or in the same package for the parent class but if method is overrided in sub class, we can call it in the same package as sub class stat">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://picsum.photos/id/1048/300/200">
<meta property="article:published_time" content="2023-03-22T20:57:38.000Z">
<meta property="article:modified_time" content="2023-03-22T20:58:59.595Z">
<meta property="article:author" content="LewisZ11">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Java Interview">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://picsum.photos/id/1048/300/200"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://lewisz11.github.com/2023/03/22/Java-Basic-3-IO/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java Basic (3)-IO',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-22 16:58:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://picsum.photos/id/1048/300/200')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Lewis‘s HomePage</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Java Basic (3)-IO</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-03-22T20:57:38.000Z" title="Created 2023-03-22 16:57:38">2023-03-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-03-22T20:58:59.595Z" title="Updated 2023-03-22 16:58:59">2023-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Backend-T-Summary/">Backend T Summary</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java Basic (3)-IO"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Clone-Related-Questions"><a href="#Clone-Related-Questions" class="headerlink" title="Clone Related Questions"></a>Clone Related Questions</h2><h3 id="Protected"><a href="#Protected" class="headerlink" title="Protected"></a>Protected</h3><p><strong>protected means in same branch or in the same package for the parent class</strong></p>
<p><strong>but if method is overrided in sub class, we can call it in the same package as sub class</strong></p>
<p>static, private, final, constructor cannot be overided</p>
<p><strong>native method can be overrided</strong></p>
<h3 id="Marker-Interface"><a href="#Marker-Interface" class="headerlink" title="Marker Interface"></a>Marker Interface</h3><p><strong>Marker interface doesn’t have any abstract methods in it. It is kind of like a marker to tell Jvm this class implementing this interface is cloneable. So If the associated method in this class is invoked, compile time will not give an error</strong></p>
<h3 id="deep-copy-And-Shallow-copy"><a href="#deep-copy-And-Shallow-copy" class="headerlink" title="deep copy And Shallow copy"></a>deep copy And Shallow copy</h3><p><strong>Deep copy means not only the thing but the internal copy</strong></p>
<p><strong>shallow copy menas the thing itself, but not inside</strong></p>
<p><strong>Understanding:</strong></p>
<p><strong>We don‘t need to go to the extreme copy.</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> @Override</span><br><span class="line">    public Employee clone() &#123;</span><br><span class="line">        // return new Employee(id, name, done); OK to use but not OK to interview</span><br><span class="line">        // throws every time to be handled so use try catch better</span><br><span class="line">        // dowcasting question, but some exception occurs, Clonable</span><br><span class="line">        // Clonable is empty, like a marker to tell whoever is looking the class(jvm), like the class is cloneable</span><br><span class="line">        // compile time running permit</span><br><span class="line">        // these kind of interface is called marker interface</span><br><span class="line">        // clone() defined in object class    </span><br><span class="line"></span><br><span class="line">// deep copy = not only the thing, but the internal copy</span><br><span class="line">    // shallow copy only copy the thing itself, but not inside</span><br><span class="line">    // shallow copy 引用数据类型指向同一块地址</span><br><span class="line">    // super.clone() is a shallow copy</span><br><span class="line">    </span><br><span class="line">    // how to create deep copy? deep copy need to manully create each field and assign the value</span><br><span class="line">    // 1. new constructor but still shallow copy</span><br><span class="line">    // we don&#x27;t need to go to extreme deep copy</span><br><span class="line">    </span><br><span class="line">    // shallow copy change something from one side, point to the same</span><br><span class="line">    // copy == 100 fields, 90 / 80 same, just to make something you want to change which makes difference</span><br><span class="line">    // If you want to change</span><br><span class="line">    // Phone p2 = new ...</span><br><span class="line">    // e2.setPhone(p2) .....</span><br><span class="line">    </span><br><span class="line">    Employee e = null;</span><br><span class="line">    try &#123;</span><br><span class="line">        e = (Employee) super.clone();</span><br><span class="line">    &#125; catch (CloneNotSupportedException cloneNotSupportedException) &#123;</span><br><span class="line">        cloneNotSupportedException.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    return e;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h2 id="File-Reader-Question"><a href="#File-Reader-Question" class="headerlink" title="File Reader Question"></a>File Reader Question</h2><h3 id="Input-x2F-Output"><a href="#Input-x2F-Output" class="headerlink" title="Input &#x2F; Output"></a>Input &#x2F; Output</h3><p><strong>something goes into jvm &#x3D;&#x3D; input</strong></p>
<p><strong>something goes out of jvm &#x3D;&#x3D; output</strong></p>
<p><strong>chinese character 4 byte doesn’t know the size</strong></p>
<p>**Reader &#x2F; Writer &#x3D; use character doesn’t care about **</p>
<p><strong>int - 32 bit</strong></p>
<p><strong>+1 0000 0000 0000 0000 0000 0000 0000 0001</strong></p>
<p><strong>-1 1000 0000 0000 0000 0000 0000 0000 000</strong></p>
<p>**	**1 0000 0000 0000 0000 0000 0000 0000 0000</p>
<p>**       0000 0000 0000 0000 0000 0000 0000 0001**</p>
<p>**       1111 1111 1111 1111 1111 1111 1111 1111**</p>
<p><strong>so how to calculate -3?</strong></p>
<p><strong>0000 0000 0000 0001 0110 1010 0111 0001 true code</strong></p>
<p><strong>1111 1111 1111 1110 1001 0101 1000 1110 1 complimentry code</strong></p>
<p><strong>1111 1111 1111 1110 1001 0101 1000 1111 2 complimentry code</strong></p>
<p><strong>why ?</strong></p>
<p><strong>true + 1 c c &#x3D; ALL 1’s</strong></p>
<p>**true + 2 c c &#x3D; true + 1 c c  + 1 &#x3D; ALL 1’s + 1 &#x3D; 1 000000000000000000000 …. **</p>
<p><strong>true + 2 c c &#x3D; 32 bit zero</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">package com.mercury.basic.io;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">    public static void write() &#123;</span><br><span class="line">        try (FileOutputStream fos = new FileOutputStream(&quot;resources/test1.dat&quot;);) &#123;</span><br><span class="line">            </span><br><span class="line">            int[] nums = &#123;-1, 2, 3, 4, 323232323&#125;;</span><br><span class="line">            for (int num : nums) &#123;</span><br><span class="line">                fos.write(num);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(&quot;Write Finished&quot;);</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void read() &#123;</span><br><span class="line">        try (FileInputStream fis = new FileInputStream(&quot;resources/test1.dat&quot;);) &#123;</span><br><span class="line">            int next = fis.read();</span><br><span class="line">            // first is -1 -&gt; 255</span><br><span class="line">            // last I got -1 so the while loop ends</span><br><span class="line">            // extract only 8 lower bits</span><br><span class="line"></span><br><span class="line">            // t lower 8 levels</span><br><span class="line">            // number % 256</span><br><span class="line"></span><br><span class="line">            while (next != -1) &#123;</span><br><span class="line">                System.out.println(next);</span><br><span class="line">                next = fis.read();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void helper() &#123;</span><br><span class="line">        int x = 323232323;</span><br><span class="line">        String binCode = Integer.toString(x, 2);</span><br><span class="line">        String lastByte = binCode.substring(binCode.length() - 8);</span><br><span class="line">        System.out.println(Integer.parseInt(lastByte, 2));</span><br><span class="line">        System.out.println(&quot;--------------&quot;);</span><br><span class="line">        System.out.println(x &lt;&lt; 24 &gt;&gt;&gt; 24);</span><br><span class="line">        System.out.println(&quot;--------------&quot;);</span><br><span class="line">        System.out.println(x - (x &gt;&gt; 8 &lt;&lt; 8));</span><br><span class="line">        System.out.println(&quot;--------------&quot;);</span><br><span class="line">        System.out.println(x &amp; 255);</span><br><span class="line">        System.out.println(&quot;--------------&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // write();</span><br><span class="line">        // read();</span><br><span class="line">        helper();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>100 &#x3D; 64 + 32 + 4 &#x3D;&gt;1100100</strong></p>
<p><strong>how to extract only 8 lower bits ?</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">number % 256           </span><br><span class="line">String binCode = Integer.toString(x, 2);</span><br><span class="line">String lastByte = binCode.substring(binCode.length() - 8);</span><br><span class="line">System.out.println(Integer.parseInt(lastByte, 2));</span><br><span class="line">System.out.println(&quot;--------------&quot;);</span><br><span class="line">System.out.println(x &lt;&lt; 24 &gt;&gt;&gt; 24);</span><br><span class="line">System.out.println(&quot;--------------&quot;);</span><br><span class="line">System.out.println(x - (x &gt;&gt; 8 &lt;&lt; 8));</span><br><span class="line">System.out.println(&quot;--------------&quot;);</span><br><span class="line">System.out.println(x &amp; 255);</span><br><span class="line">System.out.println(&quot;--------------&quot;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">package com.mercury.basic.io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">public class Test2 &#123;</span><br><span class="line"></span><br><span class="line">    public static void write() &#123;</span><br><span class="line">        try (FileOutputStream fos = new FileOutputStream(&quot;resources/test2.dat&quot;);</span><br><span class="line">             BufferedOutputStream bos = new BufferedOutputStream(fos);</span><br><span class="line">             DataOutputStream dos = new DataOutputStream(bos);)&#123;</span><br><span class="line"></span><br><span class="line">            // why using file -&gt; buffer -&gt; data</span><br><span class="line">            // buffer give little space to save space</span><br><span class="line">            //</span><br><span class="line">            int i = -5;</span><br><span class="line">            double d = 3.1415926;</span><br><span class="line">            boolean b = true;</span><br><span class="line">            dos.writeInt(i);</span><br><span class="line">            dos.writeDouble(d);</span><br><span class="line">            dos.writeBoolean(b);</span><br><span class="line"></span><br><span class="line">            System.out.println(&quot;Write finished!&quot;);</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void read() &#123;</span><br><span class="line">        try (FileInputStream fis = new FileInputStream(&quot;resources/test2.dat&quot;);</span><br><span class="line">             BufferedInputStream bis = new BufferedInputStream(fis);</span><br><span class="line">             DataInputStream dis = new DataInputStream(bis);) &#123;</span><br><span class="line"></span><br><span class="line">            // change sequence, may get weird number</span><br><span class="line"></span><br><span class="line">            boolean b = dis.readBoolean();</span><br><span class="line">            double d = dis.readDouble(); // read</span><br><span class="line">            int i = dis.readInt();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            System.out.println(i);</span><br><span class="line">            System.out.println(d);</span><br><span class="line">            System.out.println(b);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // write();</span><br><span class="line">        read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="design-pattern"><a href="#design-pattern" class="headerlink" title="design pattern"></a>design pattern</h2><p><strong>pattern of design</strong></p>
<p><strong>1980s Gang of Four developers 23 Design Patterns - milestones, is called GoF 23 Design Patterns</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fis = new FileInputStream(&quot;resources/test2.dat&quot;);</span><br><span class="line">BufferedInputStream bis = new BufferedInputStream(fis);</span><br><span class="line">DataInputStream dis = new DataInputStream(bis);</span><br></pre></td></tr></table></figure>

<p><strong>structual</strong></p>
<p><strong>behaviors</strong></p>
<p><strong>c</strong></p>
<p>**decoration **</p>
<h2 id="Serialization"><a href="#Serialization" class="headerlink" title="Serialization"></a>Serialization</h2><ul>
<li><strong>Serializable is a marker interface</strong></li>
<li><strong>use transient to hide a field from serialization</strong></li>
<li><strong>deserialization will create a new object, but without calling any constructor</strong></li>
<li><strong>static field will not be serialized, except serialVersionUID</strong></li>
<li><strong>serialVersionUID is used during deserialization to verify that a serialized object is compatible with respect to deserialization.</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">package com.mercury.bean;</span><br><span class="line"></span><br><span class="line">import java.io.Serializable;</span><br><span class="line"></span><br><span class="line">// 1. Serializable is a marker interface</span><br><span class="line">// 2. use transient to hide a field from serialization</span><br><span class="line">// 3. deserialization will create a new object, but without calling any constructor</span><br><span class="line">// 4. static field will not be serialized</span><br><span class="line">// 5. except serialVersionUID</span><br><span class="line"></span><br><span class="line">public class CreditCard implements Serializable &#123;</span><br><span class="line">    // why not use long ? leading zeros in long will be trimmed so better not</span><br><span class="line">    transient private String number;</span><br><span class="line">    private String holder;</span><br><span class="line">    private String zipCode;</span><br><span class="line"></span><br><span class="line">    public static String bank = &quot;BOA&quot;;</span><br><span class="line"></span><br><span class="line">    public CreditCard(String number, String holder, String zipCode) &#123;</span><br><span class="line">        System.out.println(&quot;Creating args constructor&quot;);</span><br><span class="line">        this.number = number;</span><br><span class="line">        this.holder = holder;</span><br><span class="line">        this.zipCode = zipCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // serialization generates a number</span><br><span class="line">    // number should be matched</span><br><span class="line"></span><br><span class="line">    public static final long serialVersionUID = 1L;</span><br><span class="line"></span><br><span class="line">    public CreditCard() &#123;</span><br><span class="line">        System.out.println(&quot;Creating Credit Card&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getNumber() &#123;</span><br><span class="line">        return number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setNumber(String number) &#123;</span><br><span class="line">        this.number = number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getHolder() &#123;</span><br><span class="line">        return holder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setHolder(String holder) &#123;</span><br><span class="line">        this.holder = holder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getZipCode() &#123;</span><br><span class="line">        return zipCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setZipCode(String zipCode) &#123;</span><br><span class="line">        this.zipCode = zipCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;CreditCard&#123;&quot; +</span><br><span class="line">                &quot;number=&#x27;&quot; + number + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &quot;, holder=&#x27;&quot; + holder + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &quot;, zipCode=&#x27;&quot; + zipCode + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &#x27;&#125;&#x27; + &quot;------------ &quot; + bank;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">package com.mercury.basic.io;</span><br><span class="line"></span><br><span class="line">import com.mercury.bean.CreditCard;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.ObjectInputStream;</span><br><span class="line">import java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line">public class Test3 &#123;</span><br><span class="line"></span><br><span class="line">    // able to be serialized</span><br><span class="line">    // Serialization</span><br><span class="line">    // serializer = how many ways to serialize ?</span><br><span class="line">    // many ways</span><br><span class="line"></span><br><span class="line">    // most common way - java default serializer</span><br><span class="line">    // xml serializer</span><br><span class="line">    // JSON serializer javascript object notation</span><br><span class="line">    // they are format of strings</span><br><span class="line">    // Credit(number == .... , .....) - plain string</span><br><span class="line">    // &lt;CreditCard&gt; &lt;...&gt; &lt;/CreditCard&gt;</span><br><span class="line"></span><br><span class="line">//    &#123;</span><br><span class="line">//        &quot;number&quot;: &quot;1234567890&quot;,</span><br><span class="line">//        ....: ....</span><br><span class="line">//    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void write() &#123;</span><br><span class="line">        try (FileOutputStream fos = new FileOutputStream(&quot;resources/test3.dat&quot;);</span><br><span class="line">             ObjectOutputStream oos = new ObjectOutputStream(fos);)&#123;</span><br><span class="line"></span><br><span class="line">            CreditCard cc = new CreditCard(&quot;1234567890&quot;, &quot;Jerry Mouse&quot;, &quot;09876&quot;);</span><br><span class="line">            oos.writeObject(cc);</span><br><span class="line"></span><br><span class="line">            System.out.println(&quot;Write Finished&quot;);</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void read() &#123;</span><br><span class="line">        try (FileInputStream fis = new FileInputStream(&quot;resources/test3.dat&quot;);</span><br><span class="line">             ObjectInputStream ois = new ObjectInputStream(fis);)&#123;</span><br><span class="line"></span><br><span class="line">            // CreditCard cc = new CreditCard(&quot;1234567890&quot;, &quot;Jerry Mouse&quot;, &quot;09876&quot;);</span><br><span class="line">            CreditCard cc = (CreditCard) ois.readObject();</span><br><span class="line"></span><br><span class="line">            System.out.println(cc);</span><br><span class="line"></span><br><span class="line">            // System.out.println(&quot;Write Finished&quot;);</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // write();</span><br><span class="line">        CreditCard.bank = &quot;JPMC&quot;;</span><br><span class="line">        read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Another way of serialization</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">package com.mercury.bean;</span><br><span class="line"></span><br><span class="line">import java.io.Externalizable;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.ObjectInput;</span><br><span class="line">import java.io.ObjectOutput;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// remember Externalizable</span><br><span class="line">// writeExternal / readExternal</span><br><span class="line">// Deserializable using Externalizable requires default constructor</span><br><span class="line"></span><br><span class="line">public class Student implements Externalizable &#123;</span><br><span class="line">    private int id;</span><br><span class="line">    transient private String firstName;</span><br><span class="line">    private String lastName;</span><br><span class="line"></span><br><span class="line">    public int getId() &#123;</span><br><span class="line">        return id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setId(int id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getFirstName() &#123;</span><br><span class="line">        return firstName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setFirstName(String firstName) &#123;</span><br><span class="line">        this.firstName = firstName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getLastName() &#123;</span><br><span class="line">        return lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setLastName(String lastName) &#123;</span><br><span class="line">        this.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Student() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Student(int id, String firstName, String lastName) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">        this.firstName = firstName;</span><br><span class="line">        this.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Student&#123;&quot; +</span><br><span class="line">                &quot;id=&quot; + id +</span><br><span class="line">                &quot;, firstName=&#x27;&quot; + firstName + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &quot;, lastName=&#x27;&quot; + lastName + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &#x27;&#125;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // below 2 functions provided by Externalizeable interface can be used to</span><br><span class="line">    // customized the logic of serialization &amp;&amp; deserialization</span><br><span class="line"></span><br><span class="line">    // have more priority over than other property like transient</span><br><span class="line">    @Override</span><br><span class="line">    public void writeExternal(ObjectOutput out) throws IOException &#123;</span><br><span class="line">        out.writeInt(id);</span><br><span class="line">        out.writeObject(firstName);</span><br><span class="line">        // out.writeObject(lastName);</span><br><span class="line">        out.writeObject(new CreditCard());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException &#123;</span><br><span class="line">        this.id = in.readInt();</span><br><span class="line">        this.firstName = (String) in.readObject();</span><br><span class="line">        this.lastName = (String) in.readObject();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package com.mercury.basic.io;</span><br><span class="line"></span><br><span class="line">import com.mercury.bean.Student;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.ObjectInputStream;</span><br><span class="line">import java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line">public class Test4 &#123;</span><br><span class="line"></span><br><span class="line">    public static void write() &#123;</span><br><span class="line">        try (FileOutputStream fos = new FileOutputStream(&quot;resources/test4.dat&quot;);</span><br><span class="line">             ObjectOutputStream oos = new ObjectOutputStream(fos);) &#123;</span><br><span class="line"></span><br><span class="line">            Student s = new Student(10, &quot;Tom&quot;, &quot;Cat&quot;);</span><br><span class="line">            System.out.println(s);</span><br><span class="line">            oos.writeObject(s);</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void read() &#123;</span><br><span class="line">        try (FileInputStream fis = new FileInputStream(&quot;resources/test4.dat&quot;);</span><br><span class="line">             ObjectInputStream ois = new ObjectInputStream(fis);) &#123;</span><br><span class="line">            Student s = (Student) ois.readObject();</span><br><span class="line">            System.out.println(s);</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        write();</span><br><span class="line">        read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>java.nio &#x3D;&#x3D; non-blocking io</strong></p>
<p><strong>a example of blocking &#x3D;&#x3D; reading something but no stuff, thread will hold here without example</strong></p>
<p>**nio &#x3D;&#x3D; call my friend to wait for me, but my friend actually looks like a thread and then this thread helps me to watch **</p>
<h2 id="StringPool"><a href="#StringPool" class="headerlink" title="StringPool"></a>StringPool</h2><p><strong>Just watch the examples</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">package com.mercury.basic;</span><br><span class="line"></span><br><span class="line">public class StringTest &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // where is StringPool?</span><br><span class="line">        // stack long before but stack is small</span><br><span class="line">        // stack then put to Perm Gen</span><br><span class="line">        // then put to heap</span><br><span class="line">        // jvm developers want to put String/Array primitive but it is hard</span><br><span class="line">        // so give them some of the special place to use</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        String s1 = &quot;abc&quot;;</span><br><span class="line">        // 1.check if existing in the pool</span><br><span class="line">        // if found, directly return</span><br><span class="line">        // 2. If not found, create the string in the pool</span><br><span class="line">        String s2 = &quot;abc&quot;;</span><br><span class="line">        String s3 = new String(&quot;abc&quot;);</span><br><span class="line">        String s4 = new String(&quot;abc&quot;);</span><br><span class="line"></span><br><span class="line">        // In the following line, we will create two string, one when &quot;xyz&quot; is created</span><br><span class="line">        // one when &quot;xyz&quot;</span><br><span class="line">        // in heap area</span><br><span class="line">        String s5 = new String(&quot;xyz&quot;);</span><br><span class="line"></span><br><span class="line">        String s6 = &quot;a&quot; + &quot;b&quot;;</span><br><span class="line"></span><br><span class="line">        // string only on the heap but not in the pool is possible</span><br><span class="line">        // example: io read information, directly from pool</span><br><span class="line"></span><br><span class="line">        // fly weight == is extremely lightweight</span><br><span class="line">        // light weight framework -- usage of resources (disk/memory/thread/bandwidth...) </span><br><span class="line">        // heavy weight framework</span><br><span class="line"></span><br><span class="line">        // function</span><br><span class="line">        // get a string pool constant</span><br><span class="line">        // pool = shared </span><br><span class="line">        // string pool == thread or users shared the string</span><br><span class="line">        // something is shared, so do not consume lot of resource</span><br><span class="line">        </span><br><span class="line">        // Why using pool ?</span><br><span class="line">        // 1. only if lots of redundant/repeated</span><br><span class="line">        // 2. immutable</span><br><span class="line">        // 3. only if a lot</span><br><span class="line">        String s7 = s6.intern();</span><br><span class="line"></span><br><span class="line">        System.out.println(s1 == s2);</span><br><span class="line">        System.out.println(s2 == s3);</span><br><span class="line">        System.out.println(s3 == s4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="http://LewisZ11.github.com">LewisZ11</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://lewisz11.github.com/2023/03/22/Java-Basic-3-IO/">http://lewisz11.github.com/2023/03/22/Java-Basic-3-IO/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/Java-Interview/">Java Interview</a></div><div class="post_share"><div class="social-share" data-image="https://picsum.photos/id/1048/300/200" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/03/22/Java-Basic-2-OOP/"><img class="next-cover" src="https://picsum.photos/id/1048/300/200" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Java Basic (2) OOP</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/03/22/Java-Basic-1/" title="Java Basic (1)"><img class="cover" src="https://picsum.photos/id/1048/300/200" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-22</div><div class="title">Java Basic (1)</div></div></a></div><div><a href="/2023/03/22/Java-Basic-2-OOP/" title="Java Basic (2) OOP"><img class="cover" src="https://picsum.photos/id/1048/300/200" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-22</div><div class="title">Java Basic (2) OOP</div></div></a></div><div><a href="/2022/12/28/Beaconfire-Docs/" title="Beaconfire Docs"><img class="cover" src="https://picsum.photos/id/1048/300/200" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-28</div><div class="title">Beaconfire Docs</div></div></a></div><div><a href="/2022/12/28/Mercury-Docs/" title="Mercury Docs"><img class="cover" src="https://picsum.photos/id/1048/300/200" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-28</div><div class="title">Mercury Docs</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">LewisZ11</div><div class="author-info__description">A Personal Blog for Lewis Z</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/LewisZ11"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/LewisZ11" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyibo607@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Clone-Related-Questions"><span class="toc-number">1.</span> <span class="toc-text">Clone Related Questions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Protected"><span class="toc-number">1.1.</span> <span class="toc-text">Protected</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Marker-Interface"><span class="toc-number">1.2.</span> <span class="toc-text">Marker Interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#deep-copy-And-Shallow-copy"><span class="toc-number">1.3.</span> <span class="toc-text">deep copy And Shallow copy</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File-Reader-Question"><span class="toc-number">2.</span> <span class="toc-text">File Reader Question</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-x2F-Output"><span class="toc-number">2.1.</span> <span class="toc-text">Input &#x2F; Output</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#design-pattern"><span class="toc-number">3.</span> <span class="toc-text">design pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Serialization"><span class="toc-number">4.</span> <span class="toc-text">Serialization</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#StringPool"><span class="toc-number">5.</span> <span class="toc-text">StringPool</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/03/22/Java-Basic-3-IO/" title="Java Basic (3)-IO"><img src="https://picsum.photos/id/1048/300/200" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Basic (3)-IO"/></a><div class="content"><a class="title" href="/2023/03/22/Java-Basic-3-IO/" title="Java Basic (3)-IO">Java Basic (3)-IO</a><time datetime="2023-03-22T20:57:38.000Z" title="Created 2023-03-22 16:57:38">2023-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/22/Java-Basic-2-OOP/" title="Java Basic (2) OOP"><img src="https://picsum.photos/id/1048/300/200" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Basic (2) OOP"/></a><div class="content"><a class="title" href="/2023/03/22/Java-Basic-2-OOP/" title="Java Basic (2) OOP">Java Basic (2) OOP</a><time datetime="2023-03-22T20:12:30.000Z" title="Created 2023-03-22 16:12:30">2023-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/22/Java-Basic-1/" title="Java Basic (1)"><img src="https://picsum.photos/id/1048/300/200" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Basic (1)"/></a><div class="content"><a class="title" href="/2023/03/22/Java-Basic-1/" title="Java Basic (1)">Java Basic (1)</a><time datetime="2023-03-22T18:39:03.000Z" title="Created 2023-03-22 14:39:03">2023-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/12/LeetCode-Questions-Classification/" title="LeetCode Questions Classification"><img src="https://picsum.photos/id/1048/300/200" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LeetCode Questions Classification"/></a><div class="content"><a class="title" href="/2023/01/12/LeetCode-Questions-Classification/" title="LeetCode Questions Classification">LeetCode Questions Classification</a><time datetime="2023-01-13T02:31:59.000Z" title="Created 2023-01-12 21:31:59">2023-01-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/12/Monotonic-Stack-Questions/" title="Monotonic Stack Questions"><img src="https://picsum.photos/id/1048/300/200" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Monotonic Stack Questions"/></a><div class="content"><a class="title" href="/2023/01/12/Monotonic-Stack-Questions/" title="Monotonic Stack Questions">Monotonic Stack Questions</a><time datetime="2023-01-12T23:16:44.000Z" title="Created 2023-01-12 18:16:44">2023-01-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By LewisZ11</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>